<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>CloudVPS - Free VPS 6H Earn Points by Watching Ads</title>
    <link rel="stylesheet" href="css/style.css">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
</head>
<body>
    <!-- Navigation -->
    <nav class="navbar">
        <div class="container">
            <div class="nav-brand">
                <i class="fas fa-cloud"></i>
                <span>CloudVPS</span>
            </div>
            <ul class="nav-menu">
                <li><a href="#features">Features</a></li>
                <li><a href="#how-it-works">How it works</a></li>
                <li><a href="#tasks">Tasks</a></li>
                <li><a href="#faq">FAQ</a></li>
                <li><a href="#settings">Settings</a></li>
            </ul>
            <button class="btn-login" id="loginBtn">Login Row</button>
        </div>
    </nav>

    <!-- Hero Section -->
    <section class="hero">
        <div class="container">
            <div class="hero-content">
                <div class="hero-text">
                    <h1 class="hero-title">Free VPS 6H â€“<br>Earn Points by Watching Ads</h1>
                    <p class="hero-subtitle">Watch short video ads & complete missions to unlock compute time.</p>
                    
                    <div class="hero-buttons">
                        <button class="btn btn-primary" id="watchAdsBtn">
                            <i class="fas fa-play-circle"></i> Watch Ads to Earn Points
                        </button>
                        <button class="btn btn-secondary" id="getFreeVpsBtn">
                            Get Free VPS
                        </button>
                    </div>

                    <div class="progress-bar">
                        <div class="progress-fill" id="progressFill"></div>
                    </div>
                    <p class="progress-text">
                        <span class="earned-points">Points earned</span> this session: 
                        <strong id="sessionPoints">120</strong> / <strong>300</strong> points to get <strong>6H VPS</strong>
                    </p>
                    <p class="refresh-text">New missions refresh daily at 00:00 UTC</p>
                </div>

                <div class="hero-image">
                    <div class="laptop-mockup">
                        <div class="screen">
                            <div class="dashboard-preview">
                                <div class="preview-header">
                                    <i class="fas fa-cloud"></i> CloudVPS
                                </div>
                                <div class="preview-stats">
                                    <div class="stat-box">
                                        <div class="stat-label">24 Hr</div>
                                        <div class="stat-label">1 Day</div>
                                        <div class="stat-label">1M 1 Mo</div>
                                    </div>
                                    <div class="chart-area">
                                        <div class="bar-chart">
                                            <div class="bar" style="height: 30%"></div>
                                            <div class="bar" style="height: 50%"></div>
                                            <div class="bar" style="height: 70%"></div>
                                            <div class="bar" style="height: 40%"></div>
                                            <div class="bar" style="height: 90%"></div>
                                            <div class="bar" style="height: 60%"></div>
                                            <div class="bar" style="height: 80%"></div>
                                        </div>
                                        <div class="gauge-chart">
                                            <div class="gauge-needle"></div>
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </section>

    <!-- Features Section -->
    <section class="features" id="features">
        <div class="container">
            <div class="feature-cards">
                <div class="feature-card">
                    <div class="feature-icon">
                        <i class="fas fa-play-circle"></i>
                    </div>
                    <h3>Watch Video Ads</h3>
                    <p class="points-badge">+5 points per ad</p>
                    <button class="btn btn-card" onclick="window.location.href='dashboard.html'">Watch Now</button>
                </div>

                <div class="feature-card">
                    <div class="feature-icon">
                        <i class="fas fa-link"></i>
                    </div>
                    <h3>Complete Short Links</h3>
                    <p class="points-badge">+2 points per link</p>
                    <button class="btn btn-card" onclick="window.location.href='dashboard.html'">Open Links</button>
                </div>

                <div class="feature-card">
                    <div class="feature-icon">
                        <i class="fas fa-tasks"></i>
                    </div>
                    <h3>Daily Missions</h3>
                    <p class="streak-badge">Streak Bonus Active!</p>
                    <button class="btn btn-card" onclick="window.location.href='dashboard.html'">View Tasks</button>
                </div>
            </div>
        </div>
    </section>

    <!-- How It Works Section -->
    <section class="how-it-works" id="how-it-works">
        <div class="container">
            <h2 class="section-title">How It Works</h2>
            <div class="steps">
                <div class="step">
                    <div class="step-number">1</div>
                    <div class="step-content">
                        <h3>Earn Points</h3>
                        <p>Earn points earned nogtasly!</p>
                    </div>
                </div>
                <div class="step-arrow">
                    <i class="fas fa-chevron-right"></i>
                </div>
                <div class="step">
                    <div class="step-number">2</div>
                    <div class="step-content">
                        <h3>Redeem VPS</h3>
                        <p>Etjoy the VPS attor tad.</p>
                    </div>
                </div>
                <div class="step-arrow">
                    <i class="fas fa-chevron-right"></i>
                </div>
                <div class="step">
                    <div class="step-number">3</div>
                    <div class="step-content">
                        <h3>Manage & Extend</h3>
                        <p>Etjoy live tv from after survicing.</p>
                    </div>
                </div>
            </div>
        </div>
    </section>

    <!-- Footer -->
    <footer class="footer">
        <div class="container">
            <div class="footer-content">
                <div class="footer-brand">
                    <i class="fas fa-cloud"></i>
                    <span>CloudVPS</span>
                </div>
                <div class="footer-providers">
                    <img src="https://upload.wikimedia.org/wikipedia/commons/9/93/Amazon_Web_Services_Logo.svg" alt="AWS" height="30">
                    <img src="https://upload.wikimedia.org/wikipedia/commons/5/51/Google_Cloud_logo.svg" alt="Google Cloud" height="30">
                    <img src="https://upload.wikimedia.org/wikipedia/commons/f/ff/DigitalOcean_logo.svg" alt="DigitalOcean" height="30">
                </div>
            </div>
        </div>
    </footer>

    <!-- Firebase SDK -->
    <script type="module">
        import { initializeApp } from 'https://www.gstatic.com/firebasejs/10.7.1/firebase-app.js';
        import { getAuth, GoogleAuthProvider, signInWithPopup, onAuthStateChanged } from 'https://www.gstatic.com/firebasejs/10.7.1/firebase-auth.js';
        import { getFirestore, doc, getDoc, setDoc } from 'https://www.gstatic.com/firebasejs/10.7.1/firebase-firestore.js';

        // Firebase Configuration
        const firebaseConfig = {
            apiKey: "AIzaSyDEMOKEY-REPLACE-WITH-YOUR-KEY",
            authDomain: "cloudvps-demo.firebaseapp.com",
            projectId: "cloudvps-demo",
            storageBucket: "cloudvps-demo.appspot.com",
            messagingSenderId: "123456789",
            appId: "1:123456789:web:abcdef123456"
        };

        const app = initializeApp(firebaseConfig);
        const auth = getAuth(app);
        const db = getFirestore(app);
        const provider = new GoogleAuthProvider();

        // Check auth state
        onAuthStateChanged(auth, async (user) => {
            const loginBtn = document.getElementById('loginBtn');
            if (user) {
                loginBtn.textContent = 'Dashboard';
                loginBtn.onclick = () => window.location.href = 'dashboard.html';
                
                // Update user data
                const userRef = doc(db, 'users', user.uid);
                const userSnap = await getDoc(userRef);
                
                if (!userSnap.exists()) {
                    await setDoc(userRef, {
                        email: user.email,
                        displayName: user.displayName || 'User',
                        points: 0,
                        vpsTime: 0,
                        dailyAds: 0,
                        dailyLinks: 0,
                        lastLogin: new Date().toISOString(),
                        createdAt: new Date().toISOString()
                    });
                }
            }
        });

        // Login handler
        document.getElementById('loginBtn').addEventListener('click', async () => {
            if (auth.currentUser) {
                window.location.href = 'dashboard.html';
                return;
            }
            
            try {
                const result = await signInWithPopup(auth, provider);
                const user = result.user;
                
                // Create or update user document
                const userRef = doc(db, 'users', user.uid);
                const userSnap = await getDoc(userRef);
                
                if (!userSnap.exists()) {
                    await setDoc(userRef, {
                        email: user.email,
                        displayName: user.displayName || 'User',
                        points: 1250,
                        vpsTime: 0,
                        dailyAds: 0,
                        dailyLinks: 0,
                        lastLogin: new Date().toISOString(),
                        createdAt: new Date().toISOString(),
                        streakDays: 0,
                        lastStreakDate: null
                    });
                }
                
                window.location.href = 'dashboard.html';
            } catch (error) {
                console.error('Login error:', error);
                alert('Login failed. Please try again.');
            }
        });

        // Button handlers
        document.getElementById('watchAdsBtn').addEventListener('click', () => {
            if (auth.currentUser) {
                window.location.href = 'dashboard.html#ads';
            } else {
                alert('Please login first!');
            }
        });

        document.getElementById('getFreeVpsBtn').addEventListener('click', () => {
            if (auth.currentUser) {
                window.location.href = 'dashboard.html#vps';
            } else {
                alert('Please login first!');
            }
        });

        // Update progress bar
        function updateProgress() {
            const points = parseInt(document.getElementById('sessionPoints').textContent);
            const percentage = (points / 300) * 100;
            document.getElementById('progressFill').style.width = percentage + '%';
        }
        updateProgress();
    </script>
</body>
</html>
